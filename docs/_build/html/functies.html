

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Functies &mdash; UtlGefOpen documentatie</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="UtlGefOpen documentatie" href="index.html"/>
        <link rel="next" title="Referenties" href="referenties.html"/>
        <link rel="prev" title="UtlGefOpen documentatie" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> UtlGefOpen
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Functies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lange-lijst">Lange lijst</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#is-plotable">Is_Plotable()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-nr-scans">Get_Nr_Scans()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-procedurecode-flag">Get_Procedurecode_Flag()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gbr-is-gbr">Gbr_Is_Gbr()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gcr-is-gcr">Gcr_Is_Gcr()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Get_ProcedureCode_Flag()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-procedurecode-code">Get_ProcedureCode_Code()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-projectid-flag">Get_ProjectID_Flag()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="referenties.html">Referenties</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">UtlGefOpen</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Functies</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/functies.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="functies">
<h1>Functies<a class="headerlink" href="#functies" title="Permalink to this headline">¶</a></h1>
<p><strong>Vergeleken functies</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="62%" />
<col width="23%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Functie</th>
<th class="head">Gelijk ?</th>
<th class="head">Aktie ?</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>def Gbr_Is_Gbr()</td>
<td>Ja</td>
<td>Ja</td>
</tr>
<tr class="row-odd"><td>def Gcr_Is_Gcr()</td>
<td>1van2000 niet</td>
<td>Ja</td>
</tr>
<tr class="row-even"><td>def Brh_Is_Brh()</td>
<td>??</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_CompanyID_Flag()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_Column()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_Column_Flag()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_CompanyID_Name()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_Data(i_Kol, iRij)</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_MeasurementText_Flag(i_Index)</td>
<td>??</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_MeasurementVar_Flag(i_Index)</td>
<td>??</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_MeasurementText_Tekst(i_Index)</td>
<td>??</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_MeasurementVar_Value(i_Index)</td>
<td>??</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_Nr_Scans()</td>
<td>10v2000 niet</td>
<td>Ja,hoe?</td>
</tr>
<tr class="row-odd"><td>def Get_Parent_Flag()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_Parent_Reference()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_ProcedureCode_Flag()</td>
<td>1v2000 niet</td>
<td>Nee,Klaar</td>
</tr>
<tr class="row-even"><td>def Get_ProcedureCode_Code()</td>
<td>helft niet</td>
<td>Ja</td>
</tr>
<tr class="row-odd"><td>def Get_ProjectID_Flag()</td>
<td>500v2000 niet</td>
<td>Ja</td>
</tr>
<tr class="row-even"><td>def Get_ProjectID_Number()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_ReportCode_Flag()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_ReportCode_Code()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_StartDate_Flag()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_StartDate_Yyyy()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_StartDate_Mm()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_StartDate_Dd()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_XYID_Flag()</td>
<td>10v2000 niet</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_XYID_X()</td>
<td>10v2000 niet</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_XYID_Y()</td>
<td>10v2000 niet</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Get_ZID_Flag()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>def Get_ZID_Z()</td>
<td>Ja</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>def Qn2Column(i_iQtyNumber)</td>
<td>100v2000 niet</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p><strong>Uitkomsten van 5 niet vergeleken test functies</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="68%" />
<col width="13%" />
<col width="9%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Functie</th>
<th class="head">Totaal</th>
<th class="head">True</th>
<th class="head">False</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>def Test_Gef(&#8216;GEF-CPT-Report)</td>
<td>2001</td>
<td>1017</td>
<td>984</td>
</tr>
<tr class="row-odd"><td>def Test_Gef(&#8216;HEADER&#8217;)</td>
<td>2001</td>
<td>1937</td>
<td>64</td>
</tr>
<tr class="row-even"><td>def Test_Gef(&#8216;GEF-BORE-Report&#8217;)</td>
<td>2001</td>
<td>570</td>
<td>1431</td>
</tr>
<tr class="row-odd"><td>def Test_Gef(&#8216;DATA&#8217;)</td>
<td>2001</td>
<td>1998</td>
<td>3</td>
</tr>
<tr class="row-even"><td>def Is_Plotable()</td>
<td>2001</td>
<td>2001</td>
<td>0</td>
</tr>
</tbody>
</table>
<div class="section" id="lange-lijst">
<h2>Lange lijst<a class="headerlink" href="#lange-lijst" title="Permalink to this headline">¶</a></h2>
<div class="section" id="is-plotable">
<h3>Is_Plotable()<a class="headerlink" href="#is-plotable" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>int is_plotable(void):

This function determines whetter the most basic information is
present in the file in order to produce a graph of the data.
Output:
A boolean which signals whether a plot can be made.
</pre></div>
</div>
<p>Bij een test waarbij de test Is_Plotable() van Gef2.dll is uitgevoerd hadden alle 2000 geteste gef-bestanden als uitslag &#8216;True&#8217;. Hier zaten ook 3 gef-bestanden bij waarbij de test Test_Gef(&#8216;DATA&#8217;) de uitslag &#8216;False&#8217; had.</p>
</div>
<div class="section" id="get-nr-scans">
<h3>Get_Nr_Scans()<a class="headerlink" href="#get-nr-scans" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>long get_nr_scans():

This function retrieves the actual number of scans, present in the data block.
This number may differ from the value as given in the keyword LASTSCAN.
When data is written, converted,processed, this property reflects the actual
number of scans being accessed.
Output:
The actual number of scans, as present in the data block.
</pre></div>
</div>
<p>Bij een test waarbij de test Get_Nr_Scans() van Gef2.dll is uitgevoerd hadden 10 van 2000 gef-bestanden een andere uitkomst (1990 waren dus gelijk). In UtlGefOpen is echter simpelweg de waarde achter &#8216;LASTSCAN&#8217; in de header overgenomen. Uit de beschrijving hierboven blijkt dat dit niet de bedoeling is. <strong>ToDo</strong>: uitzoeken hoe Get_Nr_Scans() werkt!</p>
</div>
<div class="section" id="get-procedurecode-flag">
<h3>Get_Procedurecode_Flag()<a class="headerlink" href="#get-procedurecode-flag" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>Procedurecode= Code, Release, Version, Update[, Reference]

Setting:
void set_procedurecode( char *Code, int Release, int Version, int Update, char *Reference );
Getting:
int get_procedurecode_flag();

==================================   =================================
Preferred names                      Alias
==================================   =================================
char* get_procedurecode_Code()       char* get_procedurecode_code();
int get_procedurecode_Release()      int   get_procedurecode_release();
int get_procedurecode_Version()      int   get_procedurecode_versie();
int get_procedurecode_Update()       int   get_procedurecode_update();
char* get_procedurecode_Reference()  char* get_procedurecode_isoref();
==================================   =================================
Deleting:
int del_procedurecode ();

Code            Reference Text stating the code of the procedure.
Release         A number which gives the release of the procedure.
Version         A number which gives the version of the procedure.
Update          A number which gives the update of the procedure.
Reference       Reference document or ISO-9000 standard. Maximum 80 characters.

Example: #Procedurecode=GEF-CPT-Report, 1,0,0.
</pre></div>
</div>
</div>
<div class="section" id="gbr-is-gbr">
<h3>Gbr_Is_Gbr()<a class="headerlink" href="#gbr-is-gbr" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>int  gbr_is_gbr();
Output:
True if the file contains a reportcode: GEF-BORE-Report
</pre></div>
</div>
<p>Bovenstaande klopt met de inhoud van UtlGefOpen.py. Bij een test waarbij de test Gbr_Is_Gbr() van Gef2.dll is uitgevoerd hadden alle gef-bestanden dezelfde uitkomst voor Gef2.dll en UtlGefOpen.py. <strong>ToDo</strong>: &#8216;PROCEDURECODE&#8217; uit functie halen</p>
</div>
<div class="section" id="gcr-is-gcr">
<h3>Gcr_Is_Gcr()<a class="headerlink" href="#gcr-is-gcr" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>int gcr_is_legal();
This functions returns a true if the file is a legal (approved by the CUR) CPT Report file.
int gcr_is_gcr();
This functions is an alias for gcr_is_legal(); since there is a gbr_is_gbr(); as well
</pre></div>
</div>
<p>Bovenstaande is een andere meer omvattende beschrijving dan Gbr_Is_Gbr(). De functie in UtlGefOpen.py is analoog aan de beschrijving in Gbr_Is_Gbr() gebouwd. Dus uitkomst &#8216;True&#8217; als de file een reportcode met waarde &#8216;GEF-CPT-Report&#8217; bevat. In de uitgevoerde test had 1 van de 2000 gef-bestanden een andere uitkomst voor UtlGefOpen.py (True) in vergelijking met Gef2.dll (False). Het betreffende bestand had de volgende relevante regels:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#PROCEDURECODE= GEF-CPT-Report, 1, 1, 0, -</span>
<span class="c">#REPORTCODE= GEF-DISS-Report, 1, 0, 0, -</span>
</pre></div>
</div>
<p>In UtlGefOpen.py geeft een &#8216;True&#8217; als &#8216;GEF-CPT-Report&#8217; in ofwel &#8216;PROCEDURECODE&#8217; ofwel &#8216;REPORTCODE&#8217; voorkomt. Dit is een andere benadering dan hierboven beschreven en kennelijk kijkt Gef2.dll alleen in &#8216;REPORTCODE&#8217; en niet in &#8216;PROCEDURECODE&#8217;. <strong>ToDo</strong>: &#8216;PROCEDURECODE&#8217; uit functie halen</p>
</div>
<div class="section" id="id5">
<h3>Get_ProcedureCode_Flag()<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>=================================   ================================
Preferred names                     Alias
=================================   ================================
char* get_procedurecode_Code()      char* get_procedurecode_code();
int get_procedurecode_Release()     int get_procedurecode_release();
int get_procedurecode_Version()     int get_procedurecode_versie();
int get_procedurecode_Update()      int get_procedurecode_update();
int get_procedurecode_Reference()   int get_procedurecode_isoref();
=================================   ================================

#Procedurecode= Code, Release, Version, Update[, Reference]
Setting:
void    set_procedurecode(char *Code, int Release, int Version, int Update, char *Reference);
Getting:
int     get_procedurecode_flag();


Deleting:
int     del_procedurecode()

Code            Text stating the code of the procedure
Release         A number which gives the release of the procedure
Version         A number which gives the version of the procedure
Update          A number whic gives the update of the procedure
Reference       Reference document of ISO-9000 standard. Maximum 80 characters
Example:        #Procedurecode=GEF-CPT-Report, 1,0,0.
</pre></div>
</div>
<p>Bij een vergelijking tussen de uitkomsten van de functie in Gef2.dll en UtlGefOpen gaf 1 van 2000 gef-bestanden een verschillende uitkomst. Gef2.dll: False / UtlGefOpen: True. De relevante regel in het gef-bestand is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#PROCEDURECODE= GEF-CPT-Report, 1, 1, 0, -</span>
</pre></div>
</div>
<p>Het is onduidelijk / onlogisch waarom Gef2.dll hier een False afgeeft. Ik ga er daarom vanuit dat UtlGefOpen.py goed is.</p>
</div>
<div class="section" id="get-procedurecode-code">
<h3>Get_ProcedureCode_Code()<a class="headerlink" href="#get-procedurecode-code" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:
zie onder <strong>Get_ProcedureCode_Code()</strong></p>
<p>Bij een vergelijking tussen de uitkomsten van de functie in Gef2.dll en UtlGefOpen had circa de helft van de gef-bestanden een andere uitkomst. Op 1 gef-bestand na was de uitkomst van gef2.dll een geforceerde &#8216;None&#8217; uitkomst als gevolg van een non-response van Gef2.dll. UtlGefOpen.py gaf in die gevalllen een False omdat het keyword &#8216;PROCEDURECODE&#8217; afwezig was of geen bijbehorende waarde had.</p>
<p><strong>ToDo</strong>: Hoewel de Programmers docs geen uitsluitsel geeft vind ik de uitkomst None een betere dan False. Dus ga deze vervangen.</p>
</div>
<div class="section" id="get-projectid-flag">
<h3>Get_ProjectID_Flag()<a class="headerlink" href="#get-projectid-flag" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://localhost/rdddiv/gef2prog_3.pdf">Programmers documentation</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>#Projectid=Type, [Number, [Sub]]

Setting:
void    set_projectid(char* sTtype, char*sNumber, char* sSub );
Getting:
int     get_projectid_flag();

============================   ==============================
Preferred names                Alias
============================   ==============================
char* get_projectid_Type()     char*  get_projectid_type();
char* get_projectid_Number()   char*  get_projectid_number();
char* get_projectid_Sub()      char*  get_projectid_sub();
============================   ==============================

Deleting:
int     del_projectid();

Type    Order identification
Number  The order number.
Sub     The sub-project number

Example:        #Projectid=CO, 342770, 624
</pre></div>
</div>
<p><strong>UtlGefOpen.py</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">Get_ProjectID_Flag</span><span class="p">():</span>
        <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;tmpheaderdict.pkl&quot;</span><span class="p">)</span>
        <span class="n">headerdict</span><span class="o">=</span><span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">))</span>
        <span class="k">if</span> <span class="p">(</span><span class="s">&#39;PROJECTID&#39;</span> <span class="ow">in</span> <span class="n">headerdict</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">headerdict</span><span class="p">[</span><span class="s">&#39;PROJECTID&#39;</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">out</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">out</span>
        <span class="k">except</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">None</span>
</pre></div>
</div>
<p>In de test waarbij de uitkomsten van de functie in Gef2.dll en UtlGefOpen.py met elkaar zijn vergeleken bleken alle 2000 bestanden voor Gef2.dll de uitkomst &#8216;True&#8217; te hebben, terwijl circa 1500 daarvan in UtlGefOpen.py dezelfde uitkomst hadden (True) maar 500 een andere uitkomst hadden (False). Ik heb 1 gef-bestand (DKMP29-152KR_000_DIS_02) bekeken en zag daar de volgende relevante regel:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#PROJECTID= 1204-0058-011</span>
</pre></div>
</div>
<p>Dit hoort een &#8216;True&#8217; op te leveren. Dit gaat fout vanwege &#8216;len(headerdic...&gt;1&#8217;, moet zijn &#8216;len(headerdic ....&gt;0&#8217;</p>
<p><strong>ToDo</strong>: Aanpassen!</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="referenties.html" class="btn btn-neutral float-right" title="Referenties" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="UtlGefOpen documentatie" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, waterbug.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>